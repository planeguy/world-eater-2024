                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.3.2 #14228 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module main
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _init_gfx
                                     13 	.globl _updatePlayers
                                     14 	.globl _set_sprite_data
                                     15 	.globl _set_bkg_tiles
                                     16 	.globl _set_bkg_data
                                     17 	.globl _vsync
                                     18 	.globl _joypad
                                     19 ;--------------------------------------------------------
                                     20 ; special function registers
                                     21 ;--------------------------------------------------------
                                     22 ;--------------------------------------------------------
                                     23 ; ram data
                                     24 ;--------------------------------------------------------
                                     25 	.area _DATA
                                     26 ;--------------------------------------------------------
                                     27 ; ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area _INITIALIZED
                                     30 ;--------------------------------------------------------
                                     31 ; absolute external ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area _DABS (ABS)
                                     34 ;--------------------------------------------------------
                                     35 ; global & static initialisations
                                     36 ;--------------------------------------------------------
                                     37 	.area _HOME
                                     38 	.area _GSINIT
                                     39 	.area _GSFINAL
                                     40 	.area _GSINIT
                                     41 ;--------------------------------------------------------
                                     42 ; Home
                                     43 ;--------------------------------------------------------
                                     44 	.area _HOME
                                     45 	.area _HOME
                                     46 ;--------------------------------------------------------
                                     47 ; code
                                     48 ;--------------------------------------------------------
                                     49 	.area _CODE
                                     50 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:10: void init_gfx(void) {
                                     51 ;	---------------------------------
                                     52 ; Function init_gfx
                                     53 ; ---------------------------------
      000000                         54 _init_gfx::
                                     55 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:12: set_bkg_data(0, 5, map_tiles);
      000000 11r00r00         [12]   56 	ld	de, #_map_tiles
      000003 D5               [16]   57 	push	de
      000004 21 00 05         [12]   58 	ld	hl, #0x500
      000007 E5               [16]   59 	push	hl
      000008 CDr00r00         [24]   60 	call	_set_bkg_data
      00000B E8 04            [16]   61 	add	sp, #4
                                     62 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:13: set_bkg_tiles(0, 0, TEST_MAPWidth, TEST_MAPHeight, TEST_MAP);
      00000D 11r00r00         [12]   63 	ld	de, #_TEST_MAP
      000010 D5               [16]   64 	push	de
      000011 21 14 20         [12]   65 	ld	hl, #0x2014
      000014 E5               [16]   66 	push	hl
      000015 AF               [ 4]   67 	xor	a, a
      000016 0F               [ 4]   68 	rrca
      000017 F5               [16]   69 	push	af
      000018 CDr00r00         [24]   70 	call	_set_bkg_tiles
      00001B E8 06            [16]   71 	add	sp, #6
                                     72 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:16: SHOW_BKG;
      00001D F0r00            [12]   73 	ldh	a, (_LCDC_REG + 0)
      00001F F6 01            [ 8]   74 	or	a, #0x01
      000021 E0r00            [12]   75 	ldh	(_LCDC_REG + 0), a
                                     76 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:18: set_sprite_data(0,4,player_tiles);
      000023 11r00r00         [12]   77 	ld	de, #_player_tiles
      000026 D5               [16]   78 	push	de
      000027 21 00 04         [12]   79 	ld	hl, #0x400
      00002A E5               [16]   80 	push	hl
      00002B CDr00r00         [24]   81 	call	_set_sprite_data
      00002E E8 04            [16]   82 	add	sp, #4
                                     83 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:19: playerPawns[0].sprite=0;
      000030 21r01r00         [12]   84 	ld	hl, #(_playerPawns + 1)
      000033 36 00            [12]   85 	ld	(hl), #0x00
                                     86 ;c:\dev\projects\world-eater-2024\include\gb\gb.h:1804: shadow_OAM[nb].tile=tile;
      000035 21r02r00         [12]   87 	ld	hl, #(_shadow_OAM + 2)
      000038 36 00            [12]   88 	ld	(hl), #0x00
                                     89 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:21: playerPawns[0].facing=PF_UP;
      00003A 21r00r00         [12]   90 	ld	hl, #_playerPawns
      00003D 36 00            [12]   91 	ld	(hl), #0x00
                                     92 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:22: playerPawns[0].x=0<<SUBPIXEL_SCALE_SHIFT; playerPawns[0].y=0<<SUBPIXEL_SCALE_SHIFT;
      00003F 21r02r00         [12]   93 	ld	hl, #(_playerPawns + 2)
      000042 AF               [ 4]   94 	xor	a, a
      000043 22               [ 8]   95 	ld	(hl+), a
      000044 77               [ 8]   96 	ld	(hl), a
      000045 21r04r00         [12]   97 	ld	hl, #(_playerPawns + 4)
      000048 AF               [ 4]   98 	xor	a, a
      000049 22               [ 8]   99 	ld	(hl+), a
      00004A 77               [ 8]  100 	ld	(hl), a
                                    101 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:23: SHOW_SPRITES;
      00004B F0r00            [12]  102 	ldh	a, (_LCDC_REG + 0)
      00004D F6 02            [ 8]  103 	or	a, #0x02
      00004F E0r00            [12]  104 	ldh	(_LCDC_REG + 0), a
                                    105 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:24: }
      000051 C9               [16]  106 	ret
                                    107 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:27: void main(void)
                                    108 ;	---------------------------------
                                    109 ; Function main
                                    110 ; ---------------------------------
      000052                        111 _main::
                                    112 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:29: init_gfx();
      000052 CDr00r00         [24]  113 	call	_init_gfx
                                    114 ;c:\dev\projects\world-eater-2024\include\gb\gb.h:1378: SCX_REG=x, SCY_REG=y;
      000055 AF               [ 4]  115 	xor	a, a
      000056 E0r00            [12]  116 	ldh	(_SCX_REG + 0), a
      000058 AF               [ 4]  117 	xor	a, a
      000059 E0r00            [12]  118 	ldh	(_SCY_REG + 0), a
                                    119 ;c:\dev\projects\world-eater-2024\include\gb\gb.h:1392: SCX_REG+=x, SCY_REG+=y;
                                    120 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:35: while(1) {
      00005B                        121 00102$:
                                    122 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:40: players[0].input=joypad();
      00005B 01r00r00         [12]  123 	ld	bc, #_players+0
      00005E CDr00r00         [24]  124 	call	_joypad
      000061 02               [ 8]  125 	ld	(bc), a
                                    126 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:41: updatePlayers(0);
      000062 AF               [ 4]  127 	xor	a, a
      000063 CDr00r00         [24]  128 	call	_updatePlayers
                                    129 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:44: vsync();
      000066 CDr00r00         [24]  130 	call	_vsync
                                    131 ;C:\dev\projects\world-eater-2024\examples\gb\app\src\main.c:46: }
      000069 18 F0            [12]  132 	jr	00102$
                                    133 	.area _CODE
                                    134 	.area _INITIALIZER
                                    135 	.area _CABS (ABS)
